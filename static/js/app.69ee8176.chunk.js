(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{133:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAADiklEQVR4nO3dzUtUURgG8Ofc+chmnBIMdGO5CSJJaNE+KyWwrRHlLkvatBL6I0JCwoWgu3Kh68A0w1WbELLAhDZSUQhKTjOOH3dmTgsrZtGFGc/bvHNnnt9O0Weu97kfZ+ZVByAiIiIiIiJqJEY6sGc602VghmBNL4BOAEnpx6iyHQDrgJ031k4uDqZWJcPFChiYsfEtPzcK4AGAiFRujSkY2PHtbHJkedj4EoEiBQzM2Pimn3thgGsSeSGwkM4m+iVK8CS2ZsvPjTbQzgeA3pPNO48lgpzPgJ7pTJex3grq97ITJO9Fit2vbqU+uoQ4nwHGmntovJ0PANFCwQy5hghcgkyve0Y4GWP6XDMk7gGnBTLCyZozrhESBTQLZISUTbkmiKyC6OiikmF+vojN9C5yu4fL42RTDK0txxGLsucgYgX4+SK+bmRQKNq/n8vu+sjt59HRlmIJASou4N3ap5uAGbNA++Fnvv/z67b3DSZWYnjzLYKt9B7aWxNOG1qvjnBYlu78YC3HLO53HwAAcnsHlT9MgxC9BwQLfsI9NxCrziaU6fqsyGtsZav4DLCwDxF03SnxYw+YeB8HACSaamsn15KKz4CL587OApj98/GV5zsWOLwJf9nIoFhyEwaAiGdwqqXJdTvrltjSJBb10NGWQnMiDs8DPA9oTsTR0Z5CNMIVUBDRe0As6v1e7XDFUy4emspYgDIWoIwFKGMByliAMhagjPMAZZwHKOM8QBnnAcqqdF0Q/yXsusF5gDLOA5RxHqBMfR5Q7RlsreGhqYwFKGMByliAMhagjAUoYwHK1OcBH5beVvQYFy5fcvr+SvP/N84DlHEeoIzzAGXqfx/ges2t9jVbGucBypxHVeXMA+r5JenXd5JO+5DzAGXq8wDpdbyrat9TeGgqYwHKWICyKj0PCBb2dbwrngHKWIAyFqAsdPMAKbVy7+E8QBnnAco4D1AW+nlA2HEeoIzzAEecB4Sc+jyg0fHQVCbx39Mz7hmh9dM1QKAA+9k9I6QMnH92iQLm3TNCypo51wiBd9CwkwAKrjkhlC+a/JRriHMBi4OpVQM77poTPvbp0u0Ta64pIqug7WxyBMCCRFZIzKezyUcSQSIFLA8bP51N9AN2DEBeIrNG5QH7JJ1N3KipN3IrdfVZ5nzRmLvGmD5YdCL8b3GShcE6YF56XmHK9W2riIiIiIiIiBrbLwU9iLvTfZNeAAAAAElFTkSuQmCC"},239:function(e,t,a){"use strict";a.d(t,"a",(function(){return qe}));var n={};a.r(n),a.d(n,"ADD_CARD",(function(){return L})),a.d(n,"DELETE_CARD",(function(){return B})),a.d(n,"SELECT_CARD",(function(){return x})),a.d(n,"DESELECT_CARD",(function(){return O})),a.d(n,"UNSELECT_CARD",(function(){return P})),a.d(n,"UPDATE_CARD",(function(){return j})),a.d(n,"ADDING_CARD",(function(){return U})),a.d(n,"UPDATING_CARD",(function(){return z})),a.d(n,"DELETING_CARD",(function(){return W})),a.d(n,"default",(function(){return H}));var r=a(8),o=a.n(r),i=a(0),l=a.n(i),c=a(6),s=a(45),d=a(7),u=a(36),m=a(161),g=a(11),f=a(361),h=a(226),p=a.n(h),y=a(92),E=a(357),v=a(358),b=a(352),S=a(356),w=a(141),C=a.n(w),k=a(27),A=a(169);a(270),a(272),a(314),a(275);A.initializeApp({apiKey:"AIzaSyDLfK3pBsDyGzDiGSnkk7yb0_PqKturPQ8",authDomain:"survey-55706.firebaseapp.com",databaseURL:"https://survey-55706.firebaseio.com",projectId:"survey-55706",storageBucket:"survey-55706.appspot.com",messagingSenderId:"662533068499",appId:"1:662533068499:web:06be954920b47f71682626",measurementId:"G-EZX6VYKMVV"});var D=A,I=function(e){return function(e){return function(t){if("cardAdded"!=t.type)return e(t);e(t);var a={id:H.getState().length+1,title:t.payload.title,content:t.payload.content,creation:t.payload.creation,alaram:t.payload.alaram,css:{iselected:!1}};D.database().ref("users/"+D.auth().currentUser.uid+"/posts"+a.id).set(a).then((function(){H.dispatch(U(t.payload))}))}}},T=function(e){return function(e){return function(t){console.log("inside DeleteCard MiddleWare",t.payload);if("cardDeleted"!=t.type)return e(t);e(t);var a=H.getState().filter((function(e){return!1===e.css.iselected}));D.database().ref("users/"+D.auth().currentUser.uid).set(a).then((function(){H.dispatch(W())})).catch((function(a){e(t)}))}}},R=function(e){return function(e){return function(t){if("cardUpdating"!=t.type)return e(t);e(t),D.database().ref("users/"+D.auth().currentUser.uid).once("value").then((function(e){e.forEach((function(e){e.val().id==t.payload.id&&D.database().ref("users/"+D.auth().currentUser.uid+"/posts"+t.payload.id).update(t.payload).then((function(){H.dispatch(j(t.payload))})).catch((function(e){console.log(e)}))}))})).catch((function(a){e(t)}))}}},L=Object(k.b)("cardAdded"),B=Object(k.b)("cardDeleted"),x=Object(k.b)("cardSelected"),O=Object(k.b)("cardDeselected"),P=Object(k.b)("cardUnselected"),j=Object(k.b)("cardUpdated"),U=Object(k.b)("cardAdding"),z=Object(k.b)("cardUpdating"),W=Object(k.b)("cardDeleting"),G=Object(k.c)([],{cardAdded:function(e,t){return e},cardDeleted:function(e,t){return e},cardSelected:function(e,t){var a=e.findIndex((function(e){return e.id===t.payload.id}));return e[a].css.iselected=!0,e},cardDeselected:function(e,t){e.map((function(e){e.css.iselected=!1}))},cardUnselected:function(e,t){var a=e.findIndex((function(e){return e.id===t.payload.id}));return e[a].css.iselected=!1,e},cardUpdated:function(e,t){var a=e.findIndex((function(e){return e.id===t.payload.id}));return e[a].title=t.payload.title,e[a].content=t.payload.content,e[a].creation=t.payload.creation,e[a].alaram=t.payload.alaram,e},cardAdding:function(e,t){return e.push({id:e.length+1,title:t.payload.title,content:t.payload.content,creation:t.payload.creation,alaram:t.payload.alaram,css:{iselected:!1}}),e.reverse()},cardDeleting:function(e,t){return e.filter((function(e){return!1===e.css.iselected}))}}),H=Object(k.a)({reducer:G,middleware:[I,T,R]});function N(e){var t,a,n=l.a.useState(!1),r=o()(n,2),i=r[0],s=r[1];return t=e.carddata.alaram?l.a.createElement(b.a,{color:"textSecondary",style:{fontSize:10,marginTop:"5%",marginBottom:0,paddingBottom:0},gutterBottom:!0},l.a.createElement(S.a,{"aria-label":"search",color:"inherit",style:{paddingRight:3,paddingLeft:0,paddingTop:0},onClick:function(){}},l.a.createElement(C.a,{style:{color:"textSecondary",fontSize:15,paddingTop:8}})),e.carddata.alaram):"",a=i?c.a.flatten([M,V]):c.a.flatten([M,F]),l.a.useEffect((function(){s(e.carddata.css.iselected)})),l.a.createElement(y.a,{style:{width:"100%"},onLongPress:function(){i||(e.start(!0),e.select(1),H.dispatch(x({id:e.val})),s(!0))},onPress:function(){if(e.startState){if(i)return H.dispatch(P({id:e.val})),s(!1),void e.select(-1);if(e.startState)return H.dispatch(x({id:e.val})),s(!0),void e.select(1)}e.nav.navigate("Create",{id:e.carddata.id,title:e.carddata.title,content:e.carddata.content,alaram:e.carddata.alaram})}},l.a.createElement(d.a,{style:{width:"100%"}},l.a.createElement(E.a,{style:a},l.a.createElement(v.a,{style:{paddingBottom:0}},l.a.createElement(b.a,{variant:"h6",component:"h6",style:{fontSize:15,fontWeight:"600",wordBreak:"break-all"}},e.carddata.title),l.a.createElement(b.a,{color:"textSecondary",style:{fontSize:13,width:"100%",wordBreak:"break-all"},display:"block"},e.carddata.content),l.a.createElement(b.a,{color:"textSecondary",style:{fontSize:10,marginTop:"20%",marginBottom:0},gutterBottom:!0},e.carddata.creation),t))))}var V={borderColor:"brown",borderStyle:"solid"},F={borderColor:"white",borderStyle:"solid"},M={card:{width:"100%",justifyContent:"center",alignItems:"center",marginBottom:10}},K=a(359),J=a(360),Q=a(146),Y=a.n(Q),q=a(225),Z=a.n(q),X=a(147),_=a.n(X);function $(e){var t,a=l.a.useState(!1),n=o()(a,2),r=(n[0],n[1]),i=l.a.useState([]),c=o()(i,2),h=c[0],y=c[1],E=l.a.useState(u.a.get("window").height),v=o()(E,2),b=v[0],w=v[1],C=l.a.useState(!1),k=o()(C,2),A=k[0],D=k[1];l.a.useEffect((function(){"android"===g.a.OS||"ios"===g.a.OS?w(u.a.get("screen").height):w(u.a.get("window").height)}),[]),H.subscribe((function(){y(H.getState())}));var I=l.a.useState(!1),T=o()(I,2),R=T[0],L=T[1],x=l.a.useState(0),P=o()(x,2),j=P[0],U=P[1];function z(e){L(!0);var t=j+e;U(t),0===t&&D(!1)}var W=l.a.createElement(K.a,{style:{backgroundColor:"#fff"}},l.a.createElement(J.a,null,l.a.createElement(s.a,{style:{color:"#212121"}},"Notes"),l.a.createElement(S.a,{"aria-label":"search",color:"inherit",style:{marginLeft:"auto"},onClick:function(){e.navigation.navigate("SearchCard")}},l.a.createElement(Y.a,{style:{color:"#212121"}}))));return R?j>0&&(W=l.a.createElement(K.a,{style:{backgroundColor:"#fff"}},l.a.createElement(J.a,{style:{padding:0}},l.a.createElement(S.a,{"aria-label":"search",color:"inherit",style:{},onClick:function(){L(!1),U(0),r(!1),H.dispatch(O()),D(!1)}},l.a.createElement(_.a,{style:{color:"#212121"}})),l.a.createElement(s.a,{style:{color:"#212121",marginRight:"auto"}},j," Selected"),l.a.createElement(S.a,{"aria-label":"search",color:"inherit",style:{marginLeft:"auto"},onClick:function(){H.dispatch(B()),L(!1),U(0),D(!1)}},l.a.createElement(Z.a,{style:{color:"#212121"}}))))):W=l.a.createElement(K.a,{style:{backgroundColor:"#fff"}},l.a.createElement(J.a,null,l.a.createElement(s.a,{style:{color:"#212121"}},"Notes"),l.a.createElement(S.a,{"aria-label":"search",color:"inherit",style:{marginLeft:"auto"},onClick:function(){e.navigation.navigate("SearchCard")}},l.a.createElement(Y.a,{style:{color:"#212121"}})))),A||(t=l.a.createElement(f.a,{size:"large",color:"secondary","aria-label":"add",style:{position:"fixed",top:b/1.15,left:u.a.get("window").width-90,zIndex:1,backgroundColor:"#b53d00"},onClick:function(){e.navigation.navigate("Create")}},l.a.createElement(p.a,{fontSize:"default"}))),l.a.createElement(d.a,null,W,l.a.createElement(d.a,{style:ee.container},t,l.a.createElement(m.a,{style:{flexDirection:"column"}},l.a.createElement(d.a,{style:{flexDirection:"row"}},l.a.createElement(d.a,{style:{flexDirection:"column",alignItems:"center",flex:.5,marginRight:5,marginLeft:10,marginTop:10}},h.map((function(t){if(t.id%2!==0)return l.a.createElement(d.a,{key:t.id,style:{marginBottom:10,width:"100%"}},l.a.createElement(N,{val:t.id,text:t.title,select:z,carddata:t,start:D,startState:A,nav:e.navigation}))}))),l.a.createElement(d.a,{style:{flexDirection:"column",alignItems:"center",flex:.5,marginLeft:5,marginRight:10,marginTop:10}},h.map((function(t){if(t.id%2===0)return l.a.createElement(d.a,{key:t.id,style:{marginBottom:10,width:"100%"}},l.a.createElement(N,{val:t.id,text:t.title,key:t.id,select:z,carddata:t,start:D,startState:A,route:e.route,nav:e.navigation}))})))))))}var ee=c.a.create({container:{marginTop:50,display:"flex",backgroundColor:"#f0f4c",flexDirection:"row",width:"100%",height:"100%"}}),te=a(205),ae=a(366),ne=a(152),re=a.n(ne),oe=a(228),ie=a.n(oe),le=a(368),ce=a(371),se=a(362),de=a(40),ue=a(238),me=a(367);function ge(e){var t,a,n,r=he(),i=l.a.useState(e.route.params),c=o()(i,2),s=(c[0],c[1],l.a.useState((null==(t=e.route.params)?void 0:t.title)?e.route.params.title:"")),m=o()(s,2),g=m[0],f=m[1],h=l.a.useState((null==(a=e.route.params)?void 0:a.content)?e.route.params.content:""),p=o()(h,2),y=p[0],E=p[1],v=l.a.useState(!!(null==(n=e.route.params)?void 0:n.content)),b=o()(v,2),w=b[0];b[1];function k(){return R.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})}function A(){return(new Date).getDate()+"/"+R.getMonth()+"/"+R.getFullYear()}function D(){return["January","February","March","April","May","June","July","August","September","October","November","December"][R.getMonth()]+" "+R.getDate()+", "+k()}l.a.useEffect((function(){console.log(D())}));var I=l.a.useState(new Date),T=o()(I,2),R=T[0],B=T[1],x=l.a.useState(!1),O=o()(x,2),P=O[0],j=O[1],U=l.a.useState(!1),W=o()(U,2),G=W[0],N=W[1];return l.a.createElement(d.a,{style:fe.container},l.a.createElement(de.a,{utils:ue.a},l.a.createElement(me.a,{value:R,placeholder:"10/10/2018",minDate:new Date,onChange:function(e){B(e),j(!1)},format:"MM/dd/yyyy",style:{display:"none"},open:P,autoOk:!0,onAccept:function(){N(!0)}})),l.a.createElement(K.a,{style:{backgroundColor:"#fff",borderBottomWidth:2,borderStyle:"solid",borderBottomColor:"#cfd8dc"},elevation:0},l.a.createElement(J.a,{style:{padding:0}},l.a.createElement(S.a,{"aria-label":"search",color:"inherit",style:{},onClick:function(){e.navigation.navigate("Home")}},l.a.createElement(re.a,{style:{color:"#212121"}})),l.a.createElement(S.a,{"aria-label":"search",color:"inherit",style:{marginLeft:"auto"},onClick:function(){j(!0)}},l.a.createElement(C.a,{style:{color:"#212121"}})),l.a.createElement(S.a,{"aria-label":"search",color:"inherit",style:{},onClick:function(){return w?(H.dispatch(z({id:e.route.params.id,title:g,content:y,creation:A()+" "+k(),alaram:G?D():e.route.params.alaram})),void e.navigation.navigate("Home")):y||g&&!w?(console.log("ADDING Cntent",{title:g,content:y,creation:A()+" "+k(),alaram:G?D():""}),H.dispatch(L({title:g,content:y,creation:A()+" "+k(),alaram:G?D():""})),void e.navigation.navigate("Home")):void 0}},l.a.createElement(ie.a,{style:{color:"#212121"}})))),l.a.createElement(d.a,{style:{borderStyle:"solid",borderBottomWidth:2,marginTop:10,height:80,borderBottomColor:"#cfd8dc"}},l.a.createElement(ce.a,{className:r.margin,inputProps:{"aria-label":"naked"},placeholder:"Title",color:"secondary",style:{fontSize:35,fontWeight:500,paddingLeft:8,caretColor:"#b53d00"},autoFocus:!0,rows:10,value:g,onChange:function(e){f(e.target.value)}})),l.a.createElement(d.a,{style:{backgroundColor:"#fff"}},l.a.createElement(le.a,{id:"filled-multiline-static",multiline:!0,rows:u.a.get("window").height/23,variant:"outlined",placeholder:"Content",style:{backgroundColor:"#fff",borderRadius:0,caretColor:"#b53d00"},color:"secondary",InputProps:{classes:{notchedOutline:r.notchedOutline}},value:y,onChange:function(e){E(e.target.value)}})))}var fe=c.a.create({container:{marginTop:50,display:"flex",backgroundColor:"#fff",flex:1}}),he=Object(se.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(1)},notchedOutline:{borderWidth:"0px",borderColor:"white !important"}}}));function pe(e){var t=l.a.useState(""),a=o()(t,2),n=a[0],r=a[1],i=l.a.useState([]),c=o()(i,2),s=(c[0],c[1]),m=ye();return l.a.useEffect((function(){s(H.getState())}),[]),H.subscribe((function(){s(H.getState())})),l.a.createElement(d.a,{style:Ee.container},l.a.createElement(K.a,{style:{backgroundColor:"#fff"}},l.a.createElement(J.a,{style:{padding:0}},l.a.createElement(S.a,{"aria-label":"search",color:"inherit",style:{paddingRight:2},onClick:function(){e.navigation.navigate("Home")}},l.a.createElement(re.a,{style:{color:"#212121"}})),l.a.createElement(ce.a,{className:m.margin,inputProps:{"aria-label":"naked"},placeholder:"Search notes",color:"secondary",style:{fontWeight:500,caretColor:"#b53d00",paddingLeft:0,width:"100%"},value:n,autoFocus:!0,rows:10,onChange:function(e){r(e.target.value)}}),l.a.createElement(S.a,{"aria-label":"search",color:"inherit",style:{},onClick:function(){r("")}},l.a.createElement(_.a,{style:{color:"#212121"}})))),l.a.createElement(d.a,{style:{flex:1,backgroundColor:"#fff3e",alignItems:"center",justifyContent:"flex-start",width:"100%",marginTop:40}},H.getState().filter((function(e){return e.title?e.title.toLocaleLowerCase().startsWith(n.toLocaleLowerCase()):e.content.toLocaleLowerCase().startsWith(n.toLocaleLowerCase())})).map((function(t){return l.a.createElement(d.a,{style:{},key:t.id},l.a.createElement(y.a,{style:{},onPress:function(){e.navigation.navigate("Create",{id:t.id,title:t.title,content:t.content})}},l.a.createElement(d.a,{style:{width:"android"===g.a.OS?u.a.get("screen").width-10:u.a.get("window").width-10,flex:1,margin:10,marginRight:10,marginLeft:10}},l.a.createElement(E.a,null,l.a.createElement(v.a,null,l.a.createElement(b.a,{variant:"h6",component:"h6",style:{fontSize:15,fontWeight:"600",wordBreak:"break-all"}},t.title),l.a.createElement(b.a,{color:"textSecondary",style:{fontSize:13,width:"100%",wordBreak:"break-all"},display:"block"},t.content),l.a.createElement(b.a,{color:"textSecondary",style:{fontSize:10,marginTop:"20%",marginBottom:0},gutterBottom:!0},t.creation))))))}))))}var ye=Object(se.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(1)},notchedOutline:{borderWidth:"0px",borderColor:"white !important"}}})),Ee=c.a.create({container:{flex:1,backgroundColor:"#fff3",alignItems:"center",justifyContent:"center",width:"100%"}}),ve=a(29),be=a.n(ve),Se=a(53),we=a(363),Ce=a(365);function ke(e){return l.a.createElement(le.a,{onChange:e.onChange,id:e.id,type:e.type,label:e.label,value:e.value,variant:"outlined",size:e.size,style:e.style})}var Ae=function(e){return function(t){return function(a){var n={loggedIn:!1,Registered:!1,ValidUser:!1,loader:!1,Email:"",Password:"",Errors:"",Token:""};if("RegisterUser"!=a.type)return t(a);t(a),""!=a.payload.Email&&""!=a.payload.Password?D.auth().createUserWithEmailAndPassword(a.payload.Email,a.payload.Password).then((function(t){D.database().ref("users/"+t.user.uid).set({posts:""}).then((function(){t.user.sendEmailVerification().then((function(){n.Registered=!0,e.dispatch(Be(n))})).catch((function(t){n.Registered=!1,n.Errors=t.message,e.dispatch(xe(n))}))})).catch((function(t){n.Registered=!1,n.Errors=t.message,e.dispatch(xe(n))}))})).catch((function(t){n.Registered=!1,n.Errors=t.message,e.dispatch(xe(n))})):(n.Registered=!1,n.Errors="Email and Password is Required",e.dispatch(xe(n)))}}},De=function(e){return function(t){return function(a){var n={loggedIn:!1,Registered:!1,ValidUser:!1,loader:!1,Email:"",Password:"",Errors:"",Token:"",uid:""};if("loginUser"!=a.type)return t(a);t(a),D.auth().signInWithEmailAndPassword(a.payload.Email,a.payload.Password).then((function(t){t.user.emailVerified?(n.Token=t.user.uid,e.dispatch(je(n))):(n.Errors="Please Verify your Email Address",t.user.sendEmailVerification().then((function(){n.Errors="Please Verify your Email Address",e.dispatch(Pe(n))})).catch((function(t){n.Errors=t.message,e.dispatch(Pe(n))})))})).catch((function(t){n.Errors=t.message,e.dispatch(Pe(n))}))}}},Ie=a(68),Te=function(e){return function(t){return function(a){console.log("inside Token Middleware");var n={loggedIn:!1,Registered:!1,ValidUser:!1,loader:!1,Email:"",Password:"",Errors:"",Token:"",uid:""};if("Token"!=a.type)return t(a);t(a),fetch("https://us-central1-survey-55706.cloudfunctions.net/sendToken/Token",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({uid:a.payload.Token})}).then((function(t){if(t.ok)return t.json();n.loggedIn=!1,n.Errors="Something Went Wrong",e.dispatch(Pe(n))})).then((function(t){Ie.a.setItem("token",t.token).then((function(){n.loggedIn=!0,n.Errors="",e.dispatch(Oe(n))})).catch((function(t){n.loggedIn=!1,n.Errors="Something Went Wrong",e.dispatch(Pe(n))}))})).catch((function(t){n.loggedIn=!1,n.Errors="Something Went Wrong",e.dispatch(Pe(n))}))}}},Re=Object(k.b)("loginUser"),Le=Object(k.b)("RegisterUser"),Be=(Object(k.b)("ValidateUser"),Object(k.b)("RegSuccess")),xe=Object(k.b)("RegFailure"),Oe=Object(k.b)("LogSuccess"),Pe=Object(k.b)("LogFailure"),je=Object(k.b)("Token"),Ue=Object(k.c)({loggedIn:!1,Registered:!1,ValidUser:!1,loader:!1,Email:"",Password:"",Errors:"",Token:""},{loginUser:function(e,t){return e.loader=!0,e.Errors="",e},RegisterUser:function(e,t){return e.loader=!0,e},ValidateUser:function(e,t){return e},RegSuccess:function(e,t){return e.Registered=!0,e.loader=!1,e},RegFailure:function(e,t){return e.Errors=t.payload.Errors,e.loader=!1,e},LogSuccess:function(e,t){return e.loggedIn=!0,e.loader=!1,e},LogFailure:function(e,t){return e.Errors=t.payload.Errors,e.loader=!1,e.loggedIn=!1,e}}),ze=Object(k.a)({reducer:Ue,middleware:[Ae,De,Te]}),We=a(369),Ge=a(370);function He(e){var t=l.a.useState(!1),n=o()(t,2),r=n[0],i=n[1],c=l.a.useState(""),s=o()(c,2),u=s[0],m=s[1],g=l.a.useState(""),f=o()(g,2),h=f[0],p=f[1],y=l.a.useState(!1),E=o()(y,2),v=E[0],b=E[1];ze.subscribe((function(){i(ze.getState().loader),""!=ze.getState().Errors&&(b(!0),console.log(ze.getState().Errors))}));var S=function(e,t){"clickaway"!==t&&b(!1)};return l.a.createElement(d.a,{style:Ne.container},l.a.createElement(d.a,{style:{width:80,height:80,marginBottom:40}},l.a.createElement(Se.a,{source:a(133),style:{width:"100%",height:"100%"}})),l.a.createElement(ke,{onChange:function(e){return m(e.target.value)},id:"outlined-basic1",type:"text",label:"Email",variant:"outlined",size:"small",style:{marginBottom:30,width:"70%"}}),l.a.createElement(ke,{onChange:function(e){return p(e.target.value)},id:"outlined-basic2",type:"password",label:"Password",variant:"outlined",size:"small",style:{width:"70%"}}),r?l.a.createElement(Ce.a,{style:{marginTop:20},size:35}):l.a.createElement(we.a,{variant:"contained",color:"primary",style:{width:"70%",marginTop:20},onClick:function(){return i(!0),void ze.dispatch(Re({loggedIn:!1,Registered:!1,ValidUser:!1,loader:!0,Email:u,Password:h,Errors:"",Token:""}))}},"Login"),l.a.createElement(we.a,{color:"primary",style:{marginTop:8},onClick:function(){e.navigation.navigate("ForgotPass")}},"Forgot Password?"),l.a.createElement(we.a,{color:"primary",onClick:function(){e.navigation.navigate("Register")}},"New User?"),l.a.createElement(Ge.a,{open:v,autoHideDuration:6e3,onClose:S},l.a.createElement((function(e){return l.a.createElement(We.a,be()({elevation:6,variant:"filled"},e))}),{onClose:S,severity:"error"},ze.getState().Errors)))}var Ne=c.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}});function Ve(e){var t=l.a.useState(ze.getState().loader),n=o()(t,2),r=n[0],i=n[1],c=l.a.useState(""),s=o()(c,2),u=s[0],m=s[1],g=l.a.useState(""),f=o()(g,2),h=f[0],p=f[1],y=l.a.useState(!1),E=o()(y,2),v=E[0],b=E[1],S=l.a.useState(!1),w=o()(S,2),C=w[0],k=w[1];function A(e){return l.a.createElement(We.a,be()({elevation:6,variant:"filled"},e))}ze.subscribe((function(){i(ze.getState().loader),console.log(ze.getState()),""==ze.getState().Errors||ze.getState().Registered||b(!0),ze.getState().Registered&&k(!0)}));var D=function(e,t){"clickaway"!==t&&(b(!1),k(!1))};return l.a.createElement(d.a,{style:Fe.container},l.a.createElement(d.a,{style:{width:80,height:80,marginBottom:40}},l.a.createElement(Se.a,{source:a(133),style:{width:"100%",height:"100%"}})),l.a.createElement(ke,{onChange:function(e){return m(e.target.value)},id:"outlined-basic1",type:"text",label:"Email",variant:"outlined",size:"small",style:{marginBottom:30,width:"70%"}}),l.a.createElement(ke,{onChange:function(e){return p(e.target.value)},id:"outlined-basic2",type:"password",label:"Password",variant:"outlined",size:"small",style:{width:"70%"}}),l.a.createElement(ke,{id:"outlined-basic3",type:"password",label:"Confirm Password",variant:"outlined",size:"small",style:{width:"70%",marginTop:30}}),r?l.a.createElement(Ce.a,{style:{marginTop:20},size:35}):l.a.createElement(we.a,{variant:"contained",color:"primary",style:{width:"70%",marginTop:20},onClick:function(){return i(!0),void ze.dispatch(Le({loggedIn:!1,Registered:!1,ValidUser:!1,loader:!0,Email:u,Password:h,Error:"",Token:""}))}},"Register"),l.a.createElement(we.a,{color:"primary",style:{marginTop:8},onClick:function(){e.navigation.navigate("Login")}},"Login"),l.a.createElement(Ge.a,{open:v,autoHideDuration:6e3,onClose:D},l.a.createElement(A,{onClose:D,severity:"error"},ze.getState().Errors)),l.a.createElement(Ge.a,{open:C,autoHideDuration:6e3,onClose:D},l.a.createElement(A,{onClose:D,severity:"success"},"Registration SuccessFull")))}var Fe=c.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}});function Me(e){var t=l.a.useState(ze.getState().loader),n=o()(t,2),r=(n[0],n[1]),i=l.a.useState(""),c=o()(i,2),s=c[0],u=c[1],m=l.a.useState(!1),g=o()(m,2),f=g[0],h=g[1],p=l.a.useState(!1),y=o()(p,2),E=y[0],v=y[1],b=l.a.useState(!1),S=o()(b,2),w=S[0],C=S[1],k=l.a.useState(""),A=o()(k,2),I=A[0],T=A[1];function R(e){return l.a.createElement(We.a,be()({elevation:6,variant:"filled"},e))}ze.subscribe((function(){r(ze.getState().loader),console.log(ze.getState()),""!=ze.getState().Errors&&(h(!0),console.log(ze.getState().Errors))}));var L=function(e,t){"clickaway"!==t&&(h(!1),C(!1))};return l.a.createElement(d.a,{style:Ke.container},l.a.createElement(d.a,{style:{width:80,height:80,marginBottom:40}},l.a.createElement(Se.a,{source:a(133),style:{width:"100%",height:"100%"}})),l.a.createElement(ke,{onChange:function(e){return u(e.target.value)},id:"outlined-basic1",type:"text",label:"Email",variant:"outlined",size:"small",style:{marginBottom:30,width:"70%"}}),E?l.a.createElement(Ce.a,{style:{marginTop:20},size:35}):l.a.createElement(we.a,{variant:"contained",color:"primary",style:{width:"70%",marginTop:20},onClick:function(){return v(!0),void(""!=s?D.auth().sendPasswordResetEmail(s).then((function(){C(!0),v(!1)})).catch((function(e){h(!0),T(e.message),v(!1)})):(v(!1),h(!0),T("Please Enter A valid Email")))}},"Verify Password"),l.a.createElement(we.a,{color:"primary",style:{marginTop:8},onClick:function(){e.navigation.navigate("Login")}},"Login"),l.a.createElement(Ge.a,{open:f,autoHideDuration:6e3,onClose:L},l.a.createElement(R,{onClose:L,severity:"error"},I)),l.a.createElement(Ge.a,{open:w,autoHideDuration:6e3,onClose:L},l.a.createElement(R,{onClose:L,severity:"success"},"Password Reset Email Sent")))}var Ke=c.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}});function Je(){return l.a.createElement(d.a,{style:Qe.container},l.a.createElement(d.a,{style:{width:80,height:80,marginBottom:40}},l.a.createElement(Se.a,{source:a(133),style:{width:"100%",height:"100%"}})),l.a.createElement(Ce.a,{color:"secondary",style:{marginTop:"50%"}}))}var Qe=c.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}}),Ye=Object(ae.a)();function qe(){var e=l.a.useState(null),t=o()(e,2),a=(t[0],t[1],l.a.useState(!1)),n=o()(a,2),r=n[0],i=n[1],c=l.a.useState(!0),s=o()(c,2),d=s[0],u=s[1],m=l.a.useState(!0),g=o()(m,2),f=(g[0],g[1]);return l.a.useEffect((function(){Ie.a.getItem("token").then((function(e){null!=e||""!=e?(D.auth().signInWithCustomToken(e).then((function(e){i(!0),u(!1),D.database().ref("users/"+D.auth().currentUser.uid).once("value",(function(e){u(!1),ze.dispatch(Oe({loggedIn:!0,Registered:!1,ValidUser:!1,loader:!1,Email:"",Password:"",Errors:"",Token:""})),e.forEach((function(e){""!=e.val()&&H.dispatch(L({title:e.val().title,content:e.val().content,creation:e.val().creation,alaram:e.val().alaram}))}))}))})).catch(err),u(!1),i(!0),ze.dispatch(Pe({loggedIn:!1,Registered:!1,ValidUser:!1,loader:!1,Email:"",Password:"",Errors:err.message,Token:""}))):(u(!1),ze.dispatch(Pe({loggedIn:!1,Registered:!1,ValidUser:!1,loader:!1,Email:"",Password:"",Errors:"",Token:""})))})).catch((function(e){u(!1),ze.dispatch(Pe({loggedIn:!1,Registered:!1,ValidUser:!1,loader:!1,Email:"",Password:"",Errors:"",Token:""}))}))}),[]),ze.subscribe((function(){i(ze.getState().loggedIn),f(ze.getState().loader)})),d?l.a.createElement(te.a,null,l.a.createElement(Ye.Navigator,{screenOptions:{headerShown:!1}},l.a.createElement(Ye.Screen,{name:"Splash",component:Je}))):l.a.createElement(te.a,null,r?l.a.createElement(Ye.Navigator,{screenOptions:{headerShown:!1}},l.a.createElement(Ye.Screen,{name:"Home",component:$}),l.a.createElement(Ye.Screen,{name:"MyCard",component:N}),l.a.createElement(Ye.Screen,{name:"Create",component:ge}),l.a.createElement(Ye.Screen,{name:"SearchCard",component:pe})):l.a.createElement(Ye.Navigator,{screenOptions:{headerShown:!1}},l.a.createElement(Ye.Screen,{name:"Login",component:He}),l.a.createElement(Ye.Screen,{name:"Register",component:Ve}),l.a.createElement(Ye.Screen,{name:"ForgotPass",component:Me})))}c.a.create({container:{flex:1,backgroundColor:"#fff3e0",alignItems:"center",justifyContent:"center"}})},263:function(e,t,a){a(264),e.exports=a(313)},264:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[263,1,2]]]);
//# sourceMappingURL=app.69ee8176.chunk.js.map